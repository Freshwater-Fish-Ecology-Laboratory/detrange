---
output: github_document
---

<!-- README.md is generated from README.Rmd. Please edit that file -->

```{r, include = FALSE}
knitr::opts_chunk$set(
  collapse = TRUE,
  comment = "#>",
  fig.path = "man/figures/README-"
)
```

# detrange

<!-- badges: start -->
<!-- badges: end -->

## Introduction 

`detrange` estimates detection range from multiple stations within a passive acoustic telemetry array. Under the hood is a Bayesian mixed-effects logistic linear regression model. Each station has a random intercept and slope.

## Demonstration

### Data

`detrange` expects range test data, which must include columns `Station`, `Distance`, `Detects` and `Pings`. `Pings` is the expected number of detections. An example dataset `range_test` is included for reference.

```{r data}
library(detrange)
library(jmbr)

### view example dataset
data <- range_test
data
```

### Analysis
Detection range is modelled using `dr_analyse`. It is possible for the user to provide a list of priors for each parameter using the `priors` argument. If the model fails to converge, try increase the value of `nthin`.
```{r}
analysis <- dr_analyse(data, nthin = 1L)
```
The output of `dr_analyse` is an object of class `mbr`. It can be manipulated using any functions within the [mbr package](https://github.com/poissonconsulting/mbr). For convenience `detrange` also provides some functions to view summary tables and plots, including the detection range midpoint estimates and confidence intervals. 

```{r}
### plot predicted values
dr_plot_predicted(analysis)
```

```{r}
### get midpoint estimates
dr_analysis_midpoint(analysis)
```

```{r}
### coefficient table
dr_analysis_coef(analysis)
```

## Code of Conduct

Please note that the detrange project is released with a [Contributor Code of Conduct](https://contributor-covenant.org/version/2/0/CODE_OF_CONDUCT.html). By contributing to this project, you agree to abide by its terms.

## Installation

Install the development version from [GitHub](https://github.com/) with:

``` r
# install.packages("devtools")
devtools::install_github("Freshwater-Fish-Ecology-Laboratory/detrange")
```
